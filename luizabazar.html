<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Luiza Bazar</title>
<link rel="stylesheet" href="luizabazar.css">
</head>

<script>
const nomeLoja = "Luiza Bazar";
</script>

<body>

<header class="header">
  <div class="header-container">
    <div class="logo">BazBre</div>

    <nav class="menu">
      <a href="index.html" class="link1">Inicio</a>
      <a href="lojas.html" class="link1">Lojas</a>
      <a href="#" class="link1">PromoÃ§Ãµes</a>
      <a href="#" class="link1">Contato</a>
      <a href="#" class="link1">Sobre</a>
    </nav>
  </div>
</header>

<div class="main-layout">

  <!-- PRODUTOS DINÃ‚MICOS -->
  <div class="container" id="listaProdutos"></div>

  <!-- CARRINHO -->
  <div id="carrinho">
    <h3>ğŸ›ï¸ Seu Carrinho</h3>
    <div id="listaCarrinho"></div>
    <p id="total"></p>
    <button id="comprarBtn" onclick="comprar()">âœ… Finalizar Compra</button>
  </div>

</div>

<!-- BotÃ£o flutuante do WhatsApp -->
<a href="https://wa.me/5541998177448" target="_blank" class="whatsapp-fixo">ğŸ’¬</a>

<footer class="footer">
  <div><em>Quer cadastrar seu bazar ou brechÃ³? Fale conosco!</em></div>
  <div><strong>ğŸ“</strong> (41) 99817-7448 | <strong>ğŸ“§</strong> basbrevitrines@hotmail.com</div>
</footer>

<script>
let carrinho = [];

/* LISTA DE PRODUTOS */
const produtos = [
  { nome: "Vestido Floral", preco: 120, imagem: "imagens/vestidov.jpg" },
  { nome: "Bolsa de Couro", preco: 200, imagem: "imagens/bolsac.jpg" },
  { nome: "CalÃ§a Vintage", preco: 150, imagem: "imagens/calcav.jpg" },
  { nome: "Camisa PoÃ¡", preco: 90, imagem: "imagens/camisapoa.jpg" },
  { nome: "Jaqueta anos 80", preco: 250, imagem: "imagens/jaqueta80.jpg" },
  { nome: "Saia Pequena", preco: 35, imagem: "imagens/saiasp.jpg" }
];

/* CARREGAR PRODUTOS NA TELA */
function carregarProdutos() {
  const container = document.getElementById("listaProdutos");

  produtos.forEach(produto => {
    container.innerHTML += `
      <div class="produto">
        <div class="imagem">
          <img src="${produto.imagem}">
        </div>
        <div class="info">
          <h2>${produto.nome}</h2>
          <p class="preco">R$${produto.preco},00</p>
          <button onclick="adicionarProduto('${produto.nome}', ${produto.preco})">
            ğŸ›’ Adicionar
          </button>
        </div>
      </div>
    `;
  });
}

/* CARRINHO */
function adicionarProduto(nome, preco) {
  carrinho.push({ nome, preco });
  mostrarCarrinho();
}

function removerItem(index) {
  carrinho.splice(index, 1);
  mostrarCarrinho();
}

function mostrarCarrinho() {
  let lista = document.getElementById("listaCarrinho");
  let total = document.getElementById("total");

  lista.innerHTML = "";
  let soma = 0;

  carrinho.forEach((item, index) => {
    lista.innerHTML += `
      <div class="item-carrinho">
        <span>${item.nome} - R$${item.preco}</span>
        <button onclick="removerItem(${index})">âŒ</button>
      </div>
    `;
    soma += item.preco;
  });

  total.innerHTML = "<strong>Total: R$" + soma + "</strong>";
}

/* FINALIZAR COMPRA WHATSAPP */
function comprar() {
  if (carrinho.length === 0) {
    alert("Seu carrinho estÃ¡ vazio!");
    return;
  }

  let mensagem = `ğŸ›ï¸ Loja: ${nomeLoja}%0A%0AOlÃ¡, quero finalizar este pedido:%0A%0A`;
  let total = 0;

  carrinho.forEach(item => {
    mensagem += `${item.nome} - R$${item.preco}%0A`;
    total += item.preco;
  });

  mensagem += `%0AğŸ’° Total: R$${total}`;

  let telefone = "5541998177448";
  window.open(`https://wa.me/${telefone}?text=${mensagem}`, "_blank");

  carrinho = [];
  mostrarCarrinho();
}

/* INICIAR */
carregarProdutos();
</script>

</body>
</html>