<!DOCTYPE html>
<html lang="pt-br">
<head> 
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>Luiza Bazar</title>
    <link rel="stylesheet" href="luizabazar.css"> 
</head> 
<body>
    <header class="header"> 
        <div class="header-container"> 
            <div class="logo">BazBre</div> 
            <nav class="menu">
                <a href="index.html" class="link1">Inicio</a>
                <a href="lojas.html" class="link1">Lojas</a> 
                <a href="" class="link1">Promo√ß√µes</a>
                <a href="" class="link1">Contato</a> 
                <a href="" class="link1">Sobre</a>
            </nav> 
        </div> 
    </header> 

    <div class="main-layout">
        <main>
            <div class="container" id="listaProdutos"></div>
            <button id="verMaisBtn" onclick="verMais()">Ver mais produtos</button>
        </main>

        <aside id="carrinho"> 
            <h3>üõçÔ∏è Seu Carrinho</h3>
            <div id="listaCarrinho"></div> 
            <p id="total"><strong>Total: R$0</strong></p>
            <button id="comprarBtn" onclick="comprar()">‚úÖ Finalizar Compra</button> 
        </aside> 
    </div> 

    <a href="https://wa.me/5541998177448" target="_blank" class="whatsapp-fixo">üí¨</a> 

    <footer class="footer"> 
        <div><em>Quer cadastrar seu bazar ou brech√≥? Fale conosco!</em></div> 
        <div><strong>üìû</strong> (41) 99817-7448</div>
    </footer>

   <script>
        const nomeLoja = "Luiza Bazar";
        let carrinho = [];
        let produtosVisiveis = 6;
        const incremento = 6;

        // Lista estendida para teste (repetida para somar 18 itens)
        const produtos = [
            { nome: "Vestido Floral", preco: 120, imagem: "imagens/vestidov.jpg" },
            { nome: "Bolsa de Couro", preco: 200, imagem: "imagens/bolsac.jpg" },
            { nome: "Cal√ßa Vintage", preco: 150, imagem: "imagens/calcav.jpg" },
            { nome: "Camisa Po√°", preco: 90, imagem: "imagens/camisapoa.jpg" },
            { nome: "Jaqueta anos 80", preco: 250, imagem: "imagens/jaqueta80.jpg" },
            { nome: "Saia Pequena", preco: 35, imagem: "imagens/saiasp.jpg" },
            { nome: "Blusa Jeans", preco: 110, imagem: "imagens/floralvin.jpg" },
            { nome: "Cinto Vintage", preco: 60, imagem: "imagens/cinto.jpg" },
            { nome: "√ìculos Retr√¥", preco: 80, imagem: "imagens/oculos.jpg" },
            // Repetindo para teste do bot√£o
            { nome: "Vestido Floral (2)", preco: 120, imagem: "imagens/vestidov.jpg" },
            { nome: "Bolsa de Couro (2)", preco: 200, imagem: "imagens/bolsac.jpg" },
            { nome: "Cal√ßa Vintage (2)", preco: 150, imagem: "imagens/calcav.jpg" },
            { nome: "Camisa Po√° (2)", preco: 90, imagem: "imagens/camisapoa.jpg" },
            { nome: "Jaqueta anos 80 (2)", preco: 250, imagem: "imagens/jaqueta80.jpg" },
            { nome: "Saia Pequena (2)", preco: 35, imagem: "imagens/saiasp.jpg" },
            { nome: "Blusa Jeans (2)", preco: 110, imagem: "imagens/floralvin.jpg" },
            { nome: "Cinto Vintage (2)", preco: 60, imagem: "imagens/cinto.jpg" },
            { nome: "√ìculos Retr√¥ (2)", preco: 80, imagem: "imagens/oculos.jpg" },
			{ nome: "√ìculos Retr√¥ (2)", preco: 80, imagem: "imagens/oculos.jpg" },
			{ nome: "√ìculos Retr√¥ (2)", preco: 80, imagem: "imagens/oculos.jpg" },
        ];

        function carregarProdutos() {
            const container = document.getElementById("listaProdutos");
            if (!container) return;

            container.innerHTML = ""; 

            produtos.slice(0, produtosVisiveis).forEach(produto => {
                const div = document.createElement('div');
                div.className = 'produto';
                div.innerHTML = `
                    <div class="imagem"> 
                        <img src="${produto.imagem}" alt="${produto.nome}" onerror="this.src='https://via.placeholder.com/250x250?text=Sem+Foto'"> 
                    </div>
                    <div class="info"> 
                        <h2>${produto.nome}</h2> 
                        <p class="preco">R$${produto.preco},00</p> 
                        <button onclick="adicionarProduto('${produto.nome}', ${produto.preco})"> üõí Adicionar </button> 
                    </div>`;
                container.appendChild(div);
            });

            // L√≥gica do bot√£o "Ver Mais" e aviso de fim de lista
            const btnVerMais = document.getElementById("verMaisBtn");
            if (produtosVisiveis >= produtos.length && btnVerMais) {
                btnVerMais.style.display = "none";
                
                // Cria um aviso de que os produtos acabaram
                if (!document.getElementById("avisoFim")) {
                    const aviso = document.createElement("p");
                    aviso.id = "avisoFim";
                    aviso.style.textAlign = "center";
                    aviso.style.marginTop = "20px";
                    aviso.style.color = "#5a3e36";
                    aviso.style.fontWeight = "bold";
                    aviso.innerText = "‚ú® Voc√™ j√° viu todos os nossos produtos!";
                    container.parentNode.appendChild(aviso);
                }
            }
        }

        function adicionarProduto(nome, preco) {
            carrinho.push({ nome, preco });
            mostrarCarrinho();
        }

        function removerItem(index) {
            carrinho.splice(index, 1);
            mostrarCarrinho();
        }

        function mostrarCarrinho() {
            let lista = document.getElementById("listaCarrinho");
            let total = document.getElementById("total");
            if(!lista || !total) return;

            lista.innerHTML = "";
            let soma = 0;

            carrinho.forEach((item, index) => {
                lista.innerHTML += `
                    <div class="item-carrinho"> 
                        <span>${item.nome} - R$${item.preco}</span> 
                        <button onclick="removerItem(${index})">‚ùå</button> 
                    </div>`;
                soma += item.preco;
            });
            total.innerHTML = "<strong>Total: R$" + soma + ",00</strong>";
        }

        function verMais() {
            produtosVisiveis += incremento;
            carregarProdutos();
        }

        function comprar() {
            if (carrinho.length === 0) {
                alert("Seu carrinho est√° vazio!");
                return;
            }
            let mensagem = `üõçÔ∏è Loja: ${nomeLoja}%0A%0AOl√°, quero finalizar este pedido:%0A%0A`;
            let total = 0;
            carrinho.forEach(item => {
                mensagem += `- ${item.nome}: R$${item.preco}%0A`;
                total += item.preco;
            });
            mensagem += `%0Aüí∞ Total: R$${total}`;
            let telefone = "5541998177448";
            window.open(`https://wa.me/${telefone}?text=${mensagem}`, "_blank");
        }

        document.addEventListener("DOMContentLoaded", carregarProdutos);
    </script>
</body> 
</html>