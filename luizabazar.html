<!DOCTYPE html>
<html lang="pt-br">
<head> 
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>Luiza Bazar</title>
    <link rel="stylesheet" href="luizabazar.css"> 
</head> 
<body>
    <header class="header"> 
        <div class="header-container"> 
            <div class="logo">BazBre</div> 
            <nav class="menu">
                <a href="index.html" class="link1">Inicio</a>
                <a href="lojas.html" class="link1">Lojas</a> 
                <a href="#" class="link1">PromoÃ§Ãµes</a>
                <a href="#" class="link1">Contato</a> 
                <a href="#" class="link1">Sobre</a>
            </nav> 
        </div> 
    </header> 

    <div class="main-layout">
        <main>
            <div class="container" id="listaProdutos"></div>
            <button id="verMaisBtn" onclick="verMais()">Ver mais produtos</button>
        </main>

        <aside id="carrinho"> 
            <h3>ğŸ›ï¸ Seu Carrinho</h3>
            <div id="listaCarrinho"></div> 
            <p id="total"><strong>Total: R$0</strong></p>
            <button id="comprarBtn" onclick="comprar()">âœ… Finalizar Compra</button> 
        </aside> 
    </div> 

    <a href="https://wa.me/5541998177448" target="_blank" class="whatsapp-fixo">ğŸ’¬</a> 

    <footer class="footer"> 
        <div><em>Quer cadastrar seu bazar ou brechÃ³? Fale conosco!</em></div> 
        <div><strong>ğŸ“</strong> (41) 99817-7448</div>
    </footer>

   <script>
        const nomeLoja = "Luiza Bazar";
        let carrinho = [];
        let produtosVisiveis = 6;
        const incremento = 6;

        // Lista estendida para teste (repetida para somar 18 itens)
        const produtos = [
            { nome: "Vestido Floral", preco: 120, imagem: "imagens/vestidov.jpg" },
            { nome: "Bolsa de Couro", preco: 200, imagem: "imagens/bolsac.jpg" },
            { nome: "CalÃ§a Vintage", preco: 150, imagem: "imagens/calcav.jpg" },
            { nome: "Camisa PoÃ¡", preco: 90, imagem: "imagens/camisapoa.jpg" },
            { nome: "Jaqueta anos 80", preco: 250, imagem: "imagens/jaqueta80.jpg" },
            { nome: "Saia Pequena", preco: 35, imagem: "imagens/saiasp.jpg" },
            { nome: "Blusa Jeans", preco: 110, imagem: "imagens/floralvin.jpg" },
            { nome: "Cinto Vintage", preco: 60, imagem: "imagens/cinto.jpg" },
            { nome: "Ã“culos RetrÃ´", preco: 80, imagem: "imagens/oculos.jpg" },
            // Repetindo para teste do botÃ£o
            { nome: "Vestido Floral (2)", preco: 120, imagem: "imagens/vestidov.jpg" },
            { nome: "Bolsa de Couro (2)", preco: 200, imagem: "imagens/bolsac.jpg" },
            { nome: "CalÃ§a Vintage (2)", preco: 150, imagem: "imagens/calcav.jpg" },
            { nome: "Camisa PoÃ¡ (2)", preco: 90, imagem: "imagens/camisapoa.jpg" },
            { nome: "Jaqueta anos 80 (2)", preco: 250, imagem: "imagens/jaqueta80.jpg" },
            { nome: "Saia Pequena (2)", preco: 35, imagem: "imagens/saiasp.jpg" },
            { nome: "Blusa Jeans (2)", preco: 110, imagem: "imagens/floralvin.jpg" },
            { nome: "Cinto Vintage (2)", preco: 60, imagem: "imagens/calcabsino.png" },
            { nome: "Ã“culos RetrÃ´ (2)", preco: 80, imagem: "imagens/oculos.jpg" },
			{ nome: "Ã“culos RetrÃ´ (2)", preco: 80, imagem: "imagens/oculos.jpg" },
			{ nome: "Ã“culos RetrÃ´ (2)", preco: 80, imagem: "imagens/oculos.jpg" },
        ];

        function carregarProdutos() {
            const container = document.getElementById("listaProdutos");
            if (!container) return;

            container.innerHTML = ""; 

            produtos.slice(0, produtosVisiveis).forEach(produto => {
                const div = document.createElement('div');
                div.className = 'produto';
                div.innerHTML = `
                    <div class="imagem"> 
                        <img src="${produto.imagem}" alt="${produto.nome}" onerror="this.src='https://via.placeholder.com/250x250?text=Sem+Foto'"> 
                    </div>
                    <div class="info"> 
                        <h2>${produto.nome}</h2> 
                        <p class="preco">R$${produto.preco},00</p> 
                        <button onclick="adicionarProduto('${produto.nome}', ${produto.preco})"> ğŸ›’ Adicionar </button> 
                    </div>`;
                container.appendChild(div);
            });

            // LÃ³gica do botÃ£o "Ver Mais" e aviso de fim de lista
            const btnVerMais = document.getElementById("verMaisBtn");
            if (produtosVisiveis >= produtos.length && btnVerMais) {
                btnVerMais.style.display = "none";
                
                // Cria um aviso de que os produtos acabaram
                if (!document.getElementById("avisoFim")) {
                    const aviso = document.createElement("p");
                    aviso.id = "avisoFim";
                    aviso.style.textAlign = "center";
                    aviso.style.marginTop = "20px";
                    aviso.style.color = "#5a3e36";
                    aviso.style.fontWeight = "bold";
                    aviso.innerText = "âœ¨ VocÃª jÃ¡ viu todos os nossos produtos!";
                    container.parentNode.appendChild(aviso);
                }
            }
        }

        function adicionarProduto(nome, preco) {
            carrinho.push({ nome, preco });
            mostrarCarrinho();
        }

        function removerItem(index) {
            carrinho.splice(index, 1);
            mostrarCarrinho();
        }

        function mostrarCarrinho() {
            let lista = document.getElementById("listaCarrinho");
            let total = document.getElementById("total");
            if(!lista || !total) return;

            lista.innerHTML = "";
            let soma = 0;

            carrinho.forEach((item, index) => {
                lista.innerHTML += `
                    <div class="item-carrinho"> 
                        <span>${item.nome} - R$${item.preco}</span> 
                        <button onclick="removerItem(${index})">âŒ</button> 
                    </div>`;
                soma += item.preco;
            });
            total.innerHTML = "<strong>Total: R$" + soma + ",00</strong>";
        }

        function verMais() {
            produtosVisiveis += incremento;
            carregarProdutos();
        }

   function comprar() {
  if (carrinho.length === 0) {
    alert("Seu carrinho estÃ¡ vazio!");
    return;
  }

  let total = 0;
  let mensagem = `ğŸ›ï¸ Loja: ${nomeLoja}%0A`;
  mensagem += `ğŸ§¾ Pedido:%0A%0A`;

  carrinho.forEach(item => {
    mensagem += `- ${item.nome}: R$${item.preco}%0A`;
    total += item.preco;
  });

  mensagem += `%0AğŸ’° Total: R$${total}%0A`;
  mensagem += `%0AğŸ“¦ Pedido registrado no sistema!`;

  // ğŸ”½ SALVA O PEDIDO
  const pedido = {
    loja: nomeLoja,
    data: new Date().toLocaleString("pt-BR"),
    itens: carrinho,
    total: total
  };

  let pedidos = JSON.parse(localStorage.getItem("pedidos")) || [];
  pedidos.push(pedido);
  localStorage.setItem("pedidos", JSON.stringify(pedidos));

  // ğŸ”½ LIMPA O CARRINHO
  carrinho = [];
  mostrarCarrinho();

  // ğŸ”½ ABRE O WHATSAPP PARA COBRANÃ‡A
  const telefone = "5541998177448"; 
  mensagem += `%0AğŸ’° *Total:* R$${total}%0A`;
  mensagem += `%0AğŸ“ *EndereÃ§o:* (digitar aqui)%0A`;
  mensagem += `ğŸ’³ *Forma de pagamento:* (Pix/Dinheiro/CartÃ£o)`;
  // seu nÃºmero
  window.open(`https://wa.me/${telefone}?text=${mensagem}`, "_blank");
}
	document.addEventListener("DOMContentLoaded", carregarProdutos);
    </script>
</body> 
</html>